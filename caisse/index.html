<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Logiciel de caisse Coop'az</title>
  <link rel="stylesheet" href="./src/renderer/style.css">
  <link rel="stylesheet" href="./src/renderer/style-responsive-fixes.css">
  <link rel="stylesheet" href="./src/renderer/style-sidebar-fixes.css">
</head>
<body>
  <div class="app">
    <!-- Menu latÃ©ral -->
    <aside class="sidebar">
      <div>
        <img id="tenant-logo" class="tenant-logo" alt="Logo Ã©picerie" />
        <h2 id="tenant-name">Coop'az</h2>
        <nav>
          <ul>
            <li onclick="navigate('caisse')">ğŸ›’ Caisse</li>
            <li onclick="navigate('produits')">ğŸ“¦ Produits</li>
            <li onclick="navigate('receptions')">ğŸ“¥ RÃ©ceptions</li>
            <li onclick="navigate('adherents')">ğŸ‘¥ AdhÃ©rents</li>
            <li onclick="navigate('fournisseurs')">ğŸ­ Fournisseurs</li>
            <li onclick="navigate('inventaire')">ğŸ“‹ Inventaire</li>
            <li onclick="navigate('parametres')">âš™ï¸ ParamÃ¨tres</li>
          </ul>
        </nav>
      </div>
      <div class="sidebar-logout">
        <button id="btn-logout-sidebar" title="Se dÃ©connecter">ğŸšª Quitter</button>
      </div>
    </aside>

    <!-- Contenu principal -->
    <main class="main-content">
      <header>
        <div id="sync-indicator" class="sync-chip">â€”</div>
        <h1 id="page-title">Accueil</h1>
      </header>

      <section id="page-content">
        <p>Bienvenue dans votre logiciel de caisse Coop'az !</p>
      </section>
    </main>
  </div>

  <!-- âš ï¸ SupprimÃ©: branding-init.js (legacy qui faisait un fetch /branding) -->
  <script src="./src/renderer/utils/errorMessages.js"></script>
  <script src="./src/renderer/pages/helpers.js"></script>
  <script src="./src/renderer/components/productEditor.js"></script>
  <script src="./src/renderer/pages/caisse.js"></script>
  <script src="./src/renderer/pages/adherents.js"></script>
  <script src="./src/renderer/pages/fournisseurs.js"></script>
  <script src="./src/renderer/pages/produits.js"></script>
  <script src="./src/renderer/pages/receptions.js"></script>
  <!-- âš ï¸ SupprimÃ©: src/renderer/pages/parametres.js (remplacÃ© par la nouvelle arbo + lazy-load dans shell.js) -->
  <script src="./src/renderer/pages/inventaire.js"></script>
  <script>
    // GÃ©rer le bouton de dÃ©connexion
    document.addEventListener('DOMContentLoaded', () => {
      const btnLogoutSidebar = document.getElementById('btn-logout-sidebar');
      
      if (btnLogoutSidebar) {
        btnLogoutSidebar.addEventListener('click', () => {
          if (typeof window.electronAPI !== 'undefined' && window.electronAPI.logout) {
            window.electronAPI.logout();
          }
        });
      }
    });
  </script>
  <script src="./src/renderer/pages/imports.js"></script>
  <script src="./src/renderer/pages/shell.js"></script>
  <script src="./src/renderer/renderer.js"></script>
  <script src="src/renderer/ui/searchable-select.js"></script>
  <script src="./src/renderer/services/syncClient.js"></script>
</body>
</html>
